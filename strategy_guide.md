# POLYMARKET HATEBOT v5.0 (Anti-Latency & Structural Arbitrage) 전략 가이드

## 1. 핵심 철학: "속도를 포기하고, 시간(Time)과 마진(Margin)을 지배하라"
> **"우리는 API 속도전(HFT)에서 무조건 진다. 그렇다면 '속도가 필요 없는' 압도적 비효율성만 긁어모아 우상향한다."**

파이썬 기반 일반 API와 폴리마켓의 두꺼운 수수료/슬리피지 구조에서는, 엣지에 의존한 단순 누적 매매(무지성 난사)나 찰나의 호가창 쏠림에 편승하는 스켈핑(시장가 진입)은 기관의 봇들에게 이중으로 털리는 지름길입니다.
v5.0은 **네트워크 지연(Latency)이 아무런 문제가 되지 않는, 구조적이고 확실한 시간 가치 소멸(Theta Decay)과 깊은 늪 같은 스프레드(Deep Spread) 낚시**만을 전개합니다.

---

## 2. 3대 필승 전략 (결코 조급하지 않은 봇)

### 💀 전략 A: The Theta Reaper (시간 가치 사신 - 최우선 주력)
- **개념**: 남은 만기는 극도의 숏타임(10분 미만)인데, 도달 확률은 5% 미만인 옵션을 누군가 10센트 등 비싸게 사주고 있는 "비이성적인 거품(Premium)" 마켓을 노립니다. 거품이 낀 반대편 토큰, 즉 확률은 95%인데 거품 때문에 85~90센트에 팔리고 있는 '확정적인 승리 티켓'을 주워 담습니다.
- **로직 (Pseudo-code)**:
  ```python
  if time_to_expiry < 10 * 60: # 10분 미만
      if FAIR_PROB >= 0.90 and EDGE >= 0.03: # 확률은 90%가 넘어 거의 확정적인데, 반대편 거품 때문에 엣지가 3% 이상 존재할 때
          place_order(side=BEST_SIDE) # 확실한 티켓을 매수하고 만기까지 커피 마시기
  ```
- **장점**: 내가 진입한 직후 비트코인이 1~2% 튀든 말든 아무 상관없습니다. 이미 역전이 거의 불가능한 수준까지 시간이 깎여있기 때문입니다. API 지연 문제에서 100% 해방됩니다. 압도적인 승률(90%+)을 체감할 수 있습니다.

### 🎣 전략 B: Deep Spread Fisher (수동적 늪 낚시)
- **개념**: 스프레드가 10~15% 이상 나는 "버려진 초단기 마켓"에 **공정가 대비 훨씬 후려친 싼 가격**으로 수동적 지정가(Limit Order)만 깔아둡니다. 이때 확률이 0%인 죽은 티켓을 쓰레기통에서 주워 담지 않도록, 오직 확률이 40~60% 사이인 '팽팽한 접전 마켓'에서만 낚시를 진행합니다.
- **로직 (Pseudo-code)**:
  ```python
  if SPREAD_RATIO > 0.10: # 호가창이 양옆으로 10% 이상 텅 비어있음
      if 0.40 <= FAIR_PROB <= 0.60: # 승부가 갈리지 않은 팽팽한 마켓에서만
          # 시장가(Taker)가 아닌 강력한 할인 지정가(Maker) 대기
          optimal_price = max(0.01, FAIR_PROB - 0.05) 
          place_limit_order(price=optimal_price) 
  ```
- **장점**: 역선택(Adverse Selection)을 당해서 체결이 되더라도, 우리가 받아낸 가격 자체가 워낙 "후려친 가격(Deep Limit)"이기 때문에 손해를 볼 확률이 매우 적습니다. HFT 봇들이 급격한 가격 변동 시 시장가로 던지는 물량을 우리가 헐값에 받아먹습니다. 안 사지면 아무 손해가 없습니다 (No Risk if unfilled).

### 🌊 전략 C: Sustained Imbalance (진성 수급 쏠림 확인)
- **개념**: 순간적으로 나타난 가짜 매수벽 3배(Imbalance > 3.0)인 스푸핑(Spoofing) 유령 호가를 피하기 위해, 호가벽이 "최소 30초 이상" 지속된 상태에서, 바이낸스 진짜 돈(스팟 가속도)마저 그쪽으로 돌아서고, 확률이 너무 절망적이지 않은 (20~80%) 상태일 때만 진입합니다.
- **로직 (Pseudo-code)**:
  ```python
  if ORDER_IMBALANCE > 3.0 sustained for > 30 seconds: # 매수벽이 허수가 아님
      if SPOT_VELOCITY_BPS > 1.0: # 실제 바이낸스 틱도 상승 추세
          if 0.20 <= FAIR_PROB <= 0.80 and EDGE >= 0: # 가망없는 확률 배제 및 최소 손익분기 방어
              execute_trade(side='YES')
  ```
- **장점**: 허수 호가를 거르고 진짜 스마트머니를 추종합니다. 트레이드 횟수는 줄지만 치명적인 슬리피지 손실을 원천 차단합니다.

---

## 3. 강력한 리스크 및 방어 규칙 (Risk Defense)

1. **Anti-HFT Rule**: API 호출에 절대 촌각을 다투지 않습니다. 어떤 상황에서도 스크립트 기반의 봇이 "빨리 취소하고 수정해야지!" 하는 방식의 로직은 금지합니다.
2. **Fractional Kelly (보수적 분수 켈리)**: 엣지가 있더라도 산출된 켈리 값의 극강의 보수적 비율(`0.1`, 10%) 수준만 집행하여 MDD를 강제로 억눌러 우상향 곡선을 매끄럽게 그립니다.
3. **만기 홀딩 절대 원칙**: 진입 후 폴리마켓 내에서 중도 청산을 시도하면 시장가 매도 슬리피지로 이익이 모두 날아갑니다. *애초부터 만기가 짧은 마켓(15분 내외)에만 들어갑니다.* 만기가 짧은 마켓은 5분만 지나면 "확정 정산"이 되므로 돈이 묶일 위험이 없습니다.

---

## 4. 백테스팅 & 검증 핵심 포인트 (Checklist)

이 모델이 "진짜 돈 복사기"로 작동하는지 검증하려면 라이브 테스트에서 다음 3가지를 필수로 모니터링해야 합니다.
- **[ ] Theta Reaper 승률 확인**: 이 사신 전략이 패배하는 경우는 극도의 블랙스완(10분만에 스팟 가격 5% 이상 폭등) 뿐입니다. 실제 승률이 거의 100%에 수렴하는지 확인합니다.
- **[ ] 지정가 체결률 (Maker vs Taker)**: Deep Spread Fisher가 깔아둔 지정가가 실제로 남들의 비이성적 시장가 매도(Panic sell/FOMO buy)에 의해 헐값 체결이 일어나는가? (역선택 시 최대 손실폭이 우리가 설계한 마진보다 작은가?)
- **[ ] 스푸핑 생존률**: Imbalance 봇이 가짜 매수벽에 속아서 진입하자마자 PnL이 마이너스로 꽂히는 횟수가 완전히 사라졌는가?

**이 3가지만 극복하고 통제하면, 이 봇은 무수히 많은 소액을 야금야금 긁어당겨 영원히 우상향하는 진짜 "기계"가 됩니다.**
